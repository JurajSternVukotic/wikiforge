<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Wikiforge - Home</title>
</head>
<body>
    <nav>
        <ul>
            <li><a href="">&#60;-</a> </li>
            <li><a href="" id="home">Home</a></li>
            <li><a href="" id="my-wikis">My Wikis</a></li>
            <li><a href="" id="friends">Friends</a></li>
            <li><a href="" id="bookmarks">Bookmarks</a></li>
            <li><a href=""><h1>LOGO</h1></a></li>
            <li><a href="">ANIM</a></li>
            <li><a href="" id="tutorial">Tutorial</a></li>
            <li><a href="#" id="profile" onclick="openLoginRegisterModal()">Profile</a></li>
            <li><a href="#" id="language_toggler">Language</a></li>
            <li><a href="#" id="theme_toggler">Theme</a></li>
            <li><a href="">-&#62;</a></li>
        </ul>
    </nav>

    <div id="login-register-modal" class="modal">
        <div class="modal-content">
          <span class="close">&times;</span>
      
          <div class="tab">
            <button class="tablinks" onclick="openTab(event, 'login')" id="default-tab">Login</button>
            <button class="tablinks" onclick="openTab(event, 'register')">Register</button>
          </div>
      
          <div id="login" class="tabcontent">
            <h3>Login</h3>
            <form>
              <label for="login-email">Email:</label>
              <input type="email" id="login-email" name="login-email" required>
              <label for="login-password">Password:</label>
              <input type="password" id="login-password" name="login-password" required>
              <button type="submit">Login</button>
            </form>
          </div>
      
          <div id="register" class="tabcontent">
            <h3>Register</h3>
            <form>
              <label for="register-email">Email:</label>
              <input type="email" id="register-email" name="register-email" required>
              <label for="register-password">Password:</label>
              <input type="password" id="register-password" name="register-password" required>
              <label for="register-confirm-password">Confirm Password:</label>
              <input type="password" id="register-confirm-password" name="register-confirm-password" required>
              <button type="submit">Register</button>
            </form>
          </div>
        </div>
      </div>

    <script src="../javascript/translations.js"></script>

    <script>
        const modal = document.getElementById("login-register-modal");
        const themeToggler = document.getElementById("theme_toggler");
        const body = document.body;


        function switchTheme() {
        if (body.classList.contains("light-theme")) {
            body.classList.replace("light-theme", "dark-theme");
            localStorage.setItem("theme", "dark-theme");
        } 
        else {
            body.classList.replace("dark-theme", "light-theme");
            localStorage.setItem("theme", "light-theme");
        }
    
        modal.classList.toggle("dark-mode");
        }

    function loadTheme() {
        const savedTheme = localStorage.getItem("theme") || "light-theme";
        body.classList.add(savedTheme);
    }

    function applyModalTheme() {
    const currentTheme = localStorage.getItem("theme") || "light-theme";
    if (currentTheme === "dark-theme") {
        modal.classList.add("dark-mode");
    } else {
        modal.classList.remove("dark-mode");
    }
}

    themeToggler.addEventListener("click", switchTheme);
    loadTheme();
    applyModalTheme();

        const languageToggler = document.getElementById("language_toggler");
        const home = document.getElementById("home");
        const myWikis = document.getElementById("my-wikis");
        const friends = document.getElementById("friends");
        const bookmarks = document.getElementById("bookmarks");
        const tutorial = document.getElementById("tutorial");
        const profile = document.getElementById("profile");
        const language_toggler = document.getElementById("language_toggler");
        const theme_toggler = document.getElementById("theme_toggler")


        function switchLanguage() {
        const currentLanguage = localStorage.getItem("language") || "en";
        const newLanguage = currentLanguage === "en" ? "hr" : "en";
        localStorage.setItem("language", newLanguage);
        updateTranslations(newLanguage);
        }

        function loadLanguage() {
        const savedLanguage = localStorage.getItem("language") || "en";
        updateTranslations(savedLanguage);
        }

        function updateTranslations(lang) {
        home.textContent = translations[lang].home;
        myWikis.textContent = translations[lang].myWikis;
        friends.textContent = translations[lang].friends;
        bookmarks.textContent = translations[lang].bookmarks;
        tutorial.textContent = translations[lang].tutorial;
        profile.textContent = translations[lang].profile;
        language_toggler.textContent = translations[lang].language_toggler;
        theme_toggler.textContent = translations[lang].theme_toggler;
        }

        languageToggler.addEventListener("click", switchLanguage);
        loadLanguage();

        function openLoginRegisterModal() {
            modal.style.display = "block";
        }

        const closeModal = document.querySelector(".close");

        function openTab(evt, tabName) {
        const tabcontent = document.getElementsByClassName("tabcontent");
        for (let i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
        }

        const tablinks = document.getElementsByClassName("tablinks");
        for (let i = 0; i < tablinks.length; i++) {
        tablinks[i].classList.remove("active");
        }

        document.getElementById(tabName).style.display = "block";
        evt.currentTarget.classList.add("active");
        }

        closeModal.onclick = function() {
        modal.style.display = "none";
        };

        window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
            }
        };

        document.getElementById("default-tab").click();



    </script>
</body>
</html>